(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["musicdetail"],{"4de4":function(t,s,e){"use strict";var i=e("23e7"),a=e("b727").filter,o=e("1dde"),n=e("ae40"),r=o("filter"),l=n("filter");i({target:"Array",proto:!0,forced:!r||!l},{filter:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})},"575d":function(t,s,e){},6274:function(t,s,e){"use strict";var i=e("575d"),a=e.n(i);a.a},"7db0":function(t,s,e){"use strict";var i=e("23e7"),a=e("b727").find,o=e("44d2"),n=e("ae40"),r="find",l=!0,c=n(r);r in[]&&Array(1)[r]((function(){l=!1})),i({target:"Array",proto:!0,forced:l||!c},{find:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),o(r)},"95ad":function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"MusicDetail"},[t.isLoaded?e("div",{staticClass:"music-detail"},[e("p",{staticClass:"music-detail--header"},[e("router-link",{attrs:{to:"/music"}},[e("span",{attrs:{"uk-icon":"chevron-left"}}),t._v(" 楽曲一覧に戻る ")]),t._v(" 「音札」収録楽曲情報 ")],1),e("img",{staticClass:"music-detail--jacket",style:{borderColor:"rgba("+t.song.color.split(", ")[0]+", "+t.song.color.split(", ")[1]+", "+t.song.color.split(", ")[2]+", 0.75)"},attrs:{src:t.song.jacket.url,alt:t.song.name}}),e("div",{staticClass:"music-detail--name"},[t._v(t._s(t.song.name))]),e("div",{staticClass:"music-detail--artist"},[t._v(t._s(t.song.artist))]),t.song.character?e("div",{staticClass:"music-detail--character"},[t._v(" 担当キャラクター："+t._s(t.song.character)+" ")]):t._e(),t.song.youtube_music?e("div",[e("a",{staticClass:"music-detail--link-button",attrs:{href:t.song.youtube_music,target:"_blank",rel:"noopener noreferrer"}},[e("span",{attrs:{"uk-icon":"play-circle"}}),t._v(" 楽曲を試聴する "),e("div",[t._v("外部サイトに遷移します")])])]):t._e(),t.song.copyright?e("div",{staticClass:"music-detail--copyright"},[t._v(" "+t._s(t.song.copyright)+" ")]):t._e(),e("div",{staticClass:"divider"}),e("div",{staticClass:"music-detail--bpm"},[t._v("BPM: "+t._s(t.song.dispbpm))]),e("div",{staticClass:"music-detail--illustrator"},[t._v(" ILLUSTRATOR: "+t._s(t.song.illustrator)+" ")]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.song.comment,expression:"song.comment"}],staticClass:"music-detail--comment"},[t._v(" "+t._s(t.song.comment)+" ")]),t.song.coming?e("div",{staticClass:"music-detail--coming"},[e("h3",[t._v("Coming Soon...")]),e("p",[t._v("この楽曲は準備中です。譜面詳細は実装までお待ちください。")])]):e("div",{staticClass:"music-detail--table"},[e("div",{staticClass:"music-detail--level -easy"},[e("h5",[t._v("LEVEL")]),e("strong",[t._v(t._s(t.song.easy))]),e("div",{staticClass:"music-detail--level--info"},[e("h4",[t._v("Notes Count")]),e("p",[t._v(t._s(t.song.easy_notes))]),e("h4",[t._v("Notes Designer")]),e("p",[t._v(t._s(t.song.easy_nd))]),t.song.easy_video?e("a",{staticClass:"music-detail--level--video",attrs:{href:t.song.easy_video,target:"_blank",rel:"noopener noreferrer"}},[e("span",{attrs:{"uk-icon":"youtube"}}),t._v(" 譜面紹介動画を見る ")]):t._e()])]),e("div",{staticClass:"music-detail--level -normal"},[e("h5",[t._v("LEVEL")]),e("strong",[t._v(t._s(t.song.normal))]),e("div",{staticClass:"music-detail--level--info"},[e("h4",[t._v("Notes Count")]),e("p",[t._v(t._s(t.song.normal_notes))]),e("h4",[t._v("Notes Designer")]),e("p",[t._v(t._s(t.song.normal_nd))]),t.song.normal_video?e("a",{staticClass:"music-detail--level--video",attrs:{href:t.song.normal_video,target:"_blank",rel:"noopener noreferrer"}},[e("span",{attrs:{"uk-icon":"youtube"}}),t._v(" 譜面紹介動画を見る ")]):t._e()])]),e("div",{staticClass:"music-detail--level -hard"},[e("h5",[t._v("LEVEL")]),e("strong",[t._v(t._s(t.song.hard))]),e("div",{staticClass:"music-detail--level--info"},[e("h4",[t._v("Notes Count")]),e("p",[t._v(t._s(t.song.hard_notes))]),e("h4",[t._v("Notes Designer")]),e("p",[t._v(t._s(t.song.hard_nd))]),t.song.hard_video?e("a",{staticClass:"music-detail--level--video",attrs:{href:t.song.hard_video,target:"_blank",rel:"noopener noreferrer"}},[e("span",{attrs:{"uk-icon":"youtube"}}),t._v(" 譜面紹介動画を見る ")]):t._e()])])]),t.song.youtube_chart?e("div",[e("a",{staticClass:"music-detail--link-button",attrs:{href:t.song.youtube_chart,target:"_blank",rel:"noopener noreferrer"}},[e("span",{attrs:{"uk-icon":"youtube"}}),t._v(" 譜面攻略動画を見る "),e("div",[t._v("全難易度の譜面を比較できます")])])]):t._e(),e("div",[e("a",{staticClass:"music-detail--link-button -tweet",attrs:{href:t.tweetLink,target:"_blank",rel:"noopener noreferrer"}},[e("span",{attrs:{"uk-icon":"twitter"}}),t._v(" Twitterで共有 "),e("div",[t._v(t._s(t.song.name)+"をつぶやく")])])]),e("h3",[t._v("関連楽曲")]),t._l(t.relatedSongs,(function(s){return e("router-link",{key:s.id,staticClass:"music-detail--related",attrs:{to:{name:"MusicDetail",params:{id:s.song_id}}}},[e("img",{staticClass:"music-detail--related--jacket",style:{borderColor:"rgba("+s.color.split(", ")[0]+", "+s.color.split(", ")[1]+", "+s.color.split(", ")[2]+", 0.75)"},attrs:{src:s.jacket.url+"?h=150&w=150",alt:s.name}}),e("div",{staticClass:"music-detail--related--info"},[e("h5",[t._v(t._s(s.name))]),t._v(" "+t._s(s.artist)+" ")])])})),0===t.relatedSongs.length?e("p",[t._v("関連楽曲が見つかりません")]):t._e()],2):t.error?e("div",[e("h1",[t._v("エラー")]),e("p",[t._v(t._s(t.error))]),e("p",[e("router-link",{attrs:{to:"/music"}},[t._v("楽曲一覧に戻る")])],1)]):e("div",[e("div",{attrs:{"uk-spinner":"ratio: 6"}})])])},a=[],o=(e("4de4"),e("7db0"),e("a15b"),e("b0c0"),e("2909")),n=e("bc3a"),r=e.n(n),l={name:"MusicDetail",data:function(){return{isLoaded:!1,error:null,apiKey:"91c69bf8-3df5-445f-81e7-30b54ab4a7d4",apiUrl:"https://otofuda.microcms.io/api/v1/songs",allSongs:[],song:null}},mounted:function(){var t=this;r.a.get(this.apiUrl,{headers:{"X-API-KEY":this.apiKey},params:{limit:1e3}}).then((function(s){t.allSongs=Object(o["a"])(s.data.contents),t.song=t.allSongs.find((function(s){return s.song_id===t.$route.params.id})),t.song?t.isLoaded=!0:t.error="楽曲が見つかりません。"}))},beforeRouteUpdate:function(t,s,e){this.song=this.allSongs.find((function(s){return s.song_id===t.params.id})),this.song||(this.error="楽曲が見つかりません。"),setTimeout((function(){window.scrollTo({top:0,behavior:"smooth"})}),20),e()},scrollBehavior:function(t,s,e){return e||{x:0,y:0}},computed:{relatedSongs:function(){var t=this;return this.song?this.allSongs.filter((function(s){return s.id!==t.song.id&&(s.artist===t.song.artist||s.illustrator===t.song.illustrator||s.character&&s.character===t.song.character)})):[]},pageTitle:function(){return this.error?"エラー｜音札 おとふだ":this.song?"".concat(this.song.name," - 楽曲情報｜音札 おとふだ"):"楽曲詳細情報｜音札 おとふだ"},tweetLink:function(){return["https://twitter.com/intent/tweet?text=",encodeURI(document.title),"%20",location.origin,"/~proj2019-13",this.$route.fullPath,"&related=otofuda&hashtags=音札"].join("")}},watch:{pageTitle:function(t){document.title=t}}},c=l,d=(e("6274"),e("2877")),u=Object(d["a"])(c,i,a,!1,null,null,null);s["default"]=u.exports},a15b:function(t,s,e){"use strict";var i=e("23e7"),a=e("44ad"),o=e("fc6a"),n=e("a640"),r=[].join,l=a!=Object,c=n("join",",");i({target:"Array",proto:!0,forced:l||!c},{join:function(t){return r.call(o(this),void 0===t?",":t)}})},a640:function(t,s,e){"use strict";var i=e("d039");t.exports=function(t,s){var e=[][t];return!!e&&i((function(){e.call(null,s||function(){throw 1},1)}))}}}]);
//# sourceMappingURL=musicdetail.3ef644c2.js.map